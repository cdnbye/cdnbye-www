(window.webpackJsonp=window.webpackJsonp||[]).push([[10,12],{486:function(e,t,a){"use strict";var s=a(0),i=a(51),r=a(487),n=a(244),l=a(2),o=1..toFixed,c=Math.floor,u=function(e,t,a){return 0===t?a:t%2==1?u(e,t-1,a*e):u(e*e,t/2,a)},p=function(e,t,a){for(var s=-1,i=a;++s<6;)i+=t*e[s],e[s]=i%1e7,i=c(i/1e7)},f=function(e,t){for(var a=6,s=0;--a>=0;)s+=e[a],e[a]=c(s/t),s=s%t*1e7},d=function(e){for(var t=6,a="";--t>=0;)if(""!==a||0===t||0!==e[t]){var s=String(e[t]);a=""===a?s:a+n.call("0",7-s.length)+s}return a};s({target:"Number",proto:!0,forced:o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!l((function(){o.call({})}))},{toFixed:function(e){var t,a,s,l,o=r(this),c=i(e),v=[0,0,0,0,0,0],h="",m="0";if(c<0||c>20)throw RangeError("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return String(o);if(o<0&&(h="-",o=-o),o>1e-21)if(a=(t=function(e){for(var t=0,a=e;a>=4096;)t+=12,a/=4096;for(;a>=2;)t+=1,a/=2;return t}(o*u(2,69,1))-69)<0?o*u(2,-t,1):o/u(2,t,1),a*=4503599627370496,(t=52-t)>0){for(p(v,0,a),s=c;s>=7;)p(v,1e7,0),s-=7;for(p(v,u(10,s,1),0),s=t-1;s>=23;)f(v,1<<23),s-=23;f(v,1<<s),p(v,1,1),f(v,2),m=d(v)}else p(v,0,a),p(v,1<<-t,0),m=d(v)+n.call("0",c);return m=c>0?h+((l=m.length)<=c?"0."+n.call("0",c-l)+m:m.slice(0,l-c)+"."+m.slice(l-c)):h+m}})},487:function(e,t,a){var s=a(40);e.exports=function(e){if("number"!=typeof e&&"Number"!=s(e))throw TypeError("Incorrect invocation");return+e}},501:function(e,t,a){},517:function(e,t,a){"use strict";a(501)},561:function(e,t,a){},605:function(e,t,a){"use strict";a.r(t);var s=a(39),i=a(76),r=(a(141),a(15),a(486),a(150),a(151),a(138)),n={name:"Radiant",props:{playUrl:{type:String,required:!0}},data:function(){return{isPlayingMp4:!1,player:null,showWarn:!1,statis:{offload:"0",upload:"0",ratio:"0",peers:"0",buffers:0,peerID:""},p2pVersion:""}},watch:{playUrl:{handler:function(e,t){var a=this;return Object(i.a)(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(a.playUrl=e,!e||e===t){s.next=14;break}if(a.statis={offload:"0",ratio:"0",upload:"0",peers:"0",buffers:0,peerID:""},/m3u8(#|\?|$)/i.exec(e)?a.showWarn=!P2pEngineHls.isSupported():/.mpd(#|\?|$)/i.exec(e)?a.showWarn=!(Object(r.d)()&&P2PEngineDash.isSupported()):/.mp4(#|\?|$)/i.exec(e)&&(a.showWarn=!P2pEngineMedia.isSupported()),!a.player){s.next=13;break}if(!/.mp4(#|\?|$)/i.exec(e)){s.next=8;break}s.next=11;break;case 8:return s.next=10,P2PEngineHls.tryRegisterServiceWorker(a.p2pConfig);case 10:a.player.setSrc({hls:e});case 11:s.next=14;break;case 13:a.initPlayer();case 14:case"end":return s.stop()}}),s)})))()},immediate:!0,deep:!0},isLive:{type:Boolean,required:!1}},mounted:function(){var e=this;if(this.p2pConfig={live:this.isLive,logLevel:!0,proxyOnly:!!this.$route.query.ios,swFile:"../sw.js",wsSignalerAddr:{main:"wss://signal.cdnbye.com",backup:"wss://signal.swarmcloud.net"},trickleICE:!0,getStats:function(t,a,s){var i=s+t;e.statis.ratio=Math.round(t/i*100),e.statis.offload=(t/1024).toFixed(1),e.statis.upload=(a/1024).toFixed(1)},getPeerId:function(t){e.statis.peerID=t},getPeersInfo:function(t){e.statis.peers=t.length}},!P2pEngineHls.isMSESupported())new P2pEngineHls.ServiceWorkerEngine(Object(s.a)(Object(s.a)({},this.p2pConfig),{},{swFile:"../sw.js"}));!this.player&&this.playUrl&&this.initPlayer()},methods:{initPlayer:function(){var e=this;return Object(i.a)(regeneratorRuntime.mark((function t(){var a,i,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a={},!/m3u8(#|\?|$)/i.exec(e.playUrl)){t.next=7;break}return t.next=4,P2PEngineHls.tryRegisterServiceWorker(e.p2pConfig);case 4:a.hls=e.playUrl,t.next=8;break;case 7:/.mp4(#|\?|$)/i.exec(e.playUrl);case 8:i=window.location.host.includes("swarmcloud.net")?"Kl8lMDQ9b2l5Y2U4ejJrdjc/cm9tNWRhc2lzMzBkYjBBJV8q":"Kl8leXprKzZ2MnllaT9yb201ZGFzaXMzMGRiMEElXyo=",r={licenseKey:i,src:a,autoHeightMode:!0,forceHlsJSOnIpadOS:!0,hlsJSCustomConfig:{maxBufferSize:0,maxBufferLength:15,liveSyncDurationCount:10}},e.player=new RadiantMP("player"),e.player.on("hlsinstancecreated",(function(){var t=e.player.getHlsJSInstance();P2PEngineHls.isSupported()&&(e.hlsEngine=new P2pEngineHls(Object(s.a)({hlsjsInstance:t},e.p2pConfig)))})),e.player.init(r);case 13:case"end":return t.stop()}}),t)})))()}},beforeDestroy:function(){this.hlsEngine&&(this.hlsEngine.destroy(),this.hlsEngine=null),this.player&&(this.player.destroy(),this.player=null)}},l=(a(517),a(1)),o=Object(l.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"player container"},[a("div",{staticClass:"player-container",attrs:{id:"player"}}),e._v(" "),e.$frontmatter.warnText&&this.showWarn?a("h3",{staticStyle:{color:"red"}},[e._v(e._s(e.$frontmatter.warnText))]):e._e(),e._v(" "),this.showWarn?e._e():a("div",{staticClass:"player-statistics"},[a("div",{staticClass:"statis-item"},[a("span",{staticClass:"item-label"},[a("span",{staticClass:"item-label-data"},[e._v(e._s(e.statis.peers))]),a("br"),e._v(" "),a("span",{staticClass:"item-name peers"},[e._v(e._s(e.$frontmatter.peersText))])])]),e._v(" "),a("div",{staticClass:"statis-item"},[a("span",{staticClass:"item-label"},[a("span",{staticClass:"item-label-data"},[e._v(e._s(e.statis.offload))]),e._v(" MB"),a("br"),e._v(" "),a("span",{staticClass:"item-name offload"},[e._v(e._s(e.$frontmatter.offloadText))])])]),e._v(" "),a("div",{staticClass:"statis-item"},[a("span",{staticClass:"item-label"},[a("span",{staticClass:"item-label-data"},[e._v(e._s(e.statis.ratio))]),e._v(" %"),a("br"),e._v(" "),a("span",{staticClass:"item-name ratio"},[e._v(e._s(e.$frontmatter.ratioText))])])]),e._v(" "),a("div",{staticClass:"statis-item"},[a("span",{staticClass:"item-label"},[a("span",{staticClass:"item-label-data"},[e._v(e._s(e.statis.upload))]),e._v(" MB"),a("br"),e._v(" "),a("span",{staticClass:"item-name upload"},[e._v(e._s(e.$frontmatter.uploadText))])])])]),e._v(" "),a("div",{staticClass:"clear"})])}),[],!1,null,null,null);t.default=o.exports},650:function(e,t,a){"use strict";a(561)},793:function(e,t,a){"use strict";a.r(t);a(54);var s=a(605),i=a(138),r={hls_vod:{url_cn:"https://video.cdnbye.com/0cf6732evodtransgzp1257070836/ce0efb9b3701925925330591141/v.f100230.m3u8",url:"https://video.cdnbye.com/0cf6732evodtransgzp1257070836/cdd837603701925925330560591/v.f100230.m3u8",live:!1},hls_live:{url:"https://stream.swarmcloud.net:2096/hls/sintel/playlist.m3u8",live:!0}},n={name:"Demo",data:function(){return{activeTab:"hls_vod",currentTab:"",playUrl:"",isLive:!1}},components:{"P2P-Player":s.default},mounted:function(){this.currentTab=this.$route.query.mode||"hls_vod",this.activeTab=this.currentTab,this.playUrl="cn"===Object(i.h)()&&r[this.activeTab].url_cn?r[this.activeTab].url_cn:r[this.activeTab].url,this.isLive=r[this.activeTab].live},methods:{handleTabClick:function(e){if(e.name!==this.currentTab){this.currentTab=e.name,this.playUrl="cn"===Object(i.h)()&&r[e.name].url_cn?r[e.name].url_cn:r[e.name].url,this.isLive=r[e.name].live;var t=this.$route.query.ios||void 0;this.$router.push({query:{mode:e.name,ios:t}})}}}},l=(a(650),a(1)),o=Object(l.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Tabs",{attrs:{type:"card"},on:{"tab-click":e.handleTabClick},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("Tab",{attrs:{label:"HLS-VOD",name:"hls_vod"}}),e._v(" "),a("Tab",{attrs:{label:"HLS-LIVE",name:"hls_live"}})],1),e._v(" "),a("P2P-Player",{attrs:{playUrl:e.playUrl,isLive:e.isLive}})],1)}),[],!1,null,null,null);t.default=o.exports}}]);