(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{486:function(t,e,a){"use strict";var i=a(0),s=a(51),r=a(487),n=a(244),o=a(2),l=1..toFixed,p=Math.floor,c=function(t,e,a){return 0===e?a:e%2==1?c(t,e-1,a*t):c(t*t,e/2,a)},f=function(t,e,a){for(var i=-1,s=a;++i<6;)s+=e*t[i],t[i]=s%1e7,s=p(s/1e7)},u=function(t,e){for(var a=6,i=0;--a>=0;)i+=t[a],t[a]=p(i/e),i=i%e*1e7},d=function(t){for(var e=6,a="";--e>=0;)if(""!==a||0===e||0!==t[e]){var i=String(t[e]);a=""===a?i:a+n.call("0",7-i.length)+i}return a};i({target:"Number",proto:!0,forced:l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){l.call({})}))},{toFixed:function(t){var e,a,i,o,l=r(this),p=s(t),h=[0,0,0,0,0,0],v="",m="0";if(p<0||p>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(v="-",l=-l),l>1e-21)if(a=(e=function(t){for(var e=0,a=t;a>=4096;)e+=12,a/=4096;for(;a>=2;)e+=1,a/=2;return e}(l*c(2,69,1))-69)<0?l*c(2,-e,1):l/c(2,e,1),a*=4503599627370496,(e=52-e)>0){for(f(h,0,a),i=p;i>=7;)f(h,1e7,0),i-=7;for(f(h,c(10,i,1),0),i=e-1;i>=23;)u(h,1<<23),i-=23;u(h,1<<i),f(h,1,1),u(h,2),m=d(h)}else f(h,0,a),f(h,1<<-e,0),m=d(h)+n.call("0",p);return m=p>0?v+((o=m.length)<=p?"0."+n.call("0",p-o)+m:m.slice(0,o-p)+"."+m.slice(o-p)):v+m}})},487:function(t,e,a){var i=a(40);t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},559:function(t,e,a){},648:function(t,e,a){"use strict";a(559)},791:function(t,e,a){"use strict";a.r(e);var i=a(76),s=a(39),r=(a(141),a(486),a(15),a(138)),n={name:"HLS-Player",props:{playUrl:{type:String,required:!0}},data:function(){var t=this;return{player:null,showWarn:!1,statis:{offload:"0",upload:"0",ratio:"0",peers:"0",buffers:0,peerID:""},p2pVersion:"",p2pConfig:{logLevel:"debug",getStats:function(e,a,i){var s=i+e;t.statis.ratio=Math.round(e/s*100),t.statis.offload=(e/1024).toFixed(1),t.statis.upload=(a/1024).toFixed(1)},getPeerId:function(e){t.statis.peerID=e},getPeersInfo:function(e){t.statis.peers=e.length}}}},watch:{playUrl:{handler:function(t,e){var a=this;this.engine&&(this.engine.destroy(),this.engine=null),this.playUrl=t,t&&t!==e&&(this.statis={offload:"0",ratio:"0",upload:"0",peers:"0",buffers:0,peerID:""},/m3u8(#|\?|$)/i.exec(t)?this.showWarn=!P2pEngineHls.isSupported():/.mpd(#|\?|$)/i.exec(t)?this.showWarn=!(Object(r.d)()&&P2PEngineDash.isSupported()):/.mp4(#|\?|$)/i.exec(t)&&(this.showWarn=!P2pEngineMedia.isSupported()),this.player?/.mp4(#|\?|$)/i.exec(t)?(this.engine=new P2pEngineMedia(Object(s.a)(Object(s.a)({},this.p2pConfig),{},{swFile:"media-proxy.js"})),this.engine.getProxiedUrl(t).then((function(t){a.player.load(t)}))):this.player.load(t):this.initPlayer())},immediate:!0,deep:!0}},mounted:function(){!this.player&&this.playUrl&&this.initPlayer()},methods:{initPlayer:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Clappr.Log.setLevel(3),a=t.playUrl,!/m3u8(#|\?|$)/i.exec(a)){e.next=7;break}return e.next=5,P2PEngineHls.tryRegisterServiceWorker(t.p2pConfig);case 5:e.next=12;break;case 7:if(!/.mp4(#|\?|$)/i.exec(a)){e.next=12;break}return t.engine=new P2pEngineMedia(Object(s.a)(Object(s.a)({},t.p2pConfig),{},{swFile:"media-proxy.js"})),e.next=11,t.engine.getProxiedUrl(a);case 11:a=e.sent;case 12:t.player=new Clappr.Player({source:a,parentId:"#player",autoPlay:!0,height:Object(r.f)()?170:313.44,width:"100%",mediacontrol:{seekbar:"#1c85ee",buttons:"#1c85ee"},plugins:[SwarmCloudClapprPlugin],playback:{hlsjsConfig:{maxBufferSize:0,maxBufferLength:8,liveSyncDurationCount:15,p2pConfig:t.p2pConfig}}});case 13:case"end":return e.stop()}}),e)})))()}},beforeDestroy:function(){this.engine&&(this.engine.destroy(),this.engine=null),this.player&&(this.player.destroy(),this.player=null)}},o=(a(648),a(1)),l=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"player container"},[a("div",{staticClass:"player-container",attrs:{id:"player"}}),t._v(" "),t.$frontmatter.warnText&&this.showWarn?a("h3",{staticStyle:{color:"red"}},[t._v(t._s(t.$frontmatter.warnText))]):t._e(),t._v(" "),this.showWarn?t._e():a("div",{staticClass:"player-statistics"},[a("div",{staticClass:"statis-item"},[a("span",{staticClass:"item-label"},[a("span",{staticClass:"item-label-data"},[t._v(t._s(t.statis.peers))]),a("br"),t._v(" "),a("span",{staticClass:"item-name peers"},[t._v(t._s(t.$frontmatter.peersText))])])]),t._v(" "),a("div",{staticClass:"statis-item"},[a("span",{staticClass:"item-label"},[a("span",{staticClass:"item-label-data"},[t._v(t._s(t.statis.offload))]),t._v(" MB"),a("br"),t._v(" "),a("span",{staticClass:"item-name offload"},[t._v(t._s(t.$frontmatter.offloadText))])])]),t._v(" "),a("div",{staticClass:"statis-item"},[a("span",{staticClass:"item-label"},[a("span",{staticClass:"item-label-data"},[t._v(t._s(t.statis.ratio))]),t._v(" %"),a("br"),t._v(" "),a("span",{staticClass:"item-name ratio"},[t._v(t._s(t.$frontmatter.ratioText))])])]),t._v(" "),a("div",{staticClass:"statis-item"},[a("span",{staticClass:"item-label"},[a("span",{staticClass:"item-label-data"},[t._v(t._s(t.statis.upload))]),t._v(" MB"),a("br"),t._v(" "),a("span",{staticClass:"item-name upload"},[t._v(t._s(t.$frontmatter.uploadText))])])])]),t._v(" "),a("div",{staticClass:"clear"})])}),[],!1,null,null,null);e.default=l.exports}}]);