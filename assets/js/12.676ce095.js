(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{486:function(e,t,a){"use strict";var s=a(0),r=a(51),i=a(487),n=a(244),l=a(2),o=1..toFixed,c=Math.floor,p=function(e,t,a){return 0===t?a:t%2==1?p(e,t-1,a*e):p(e*e,t/2,a)},u=function(e,t,a){for(var s=-1,r=a;++s<6;)r+=t*e[s],e[s]=r%1e7,r=c(r/1e7)},f=function(e,t){for(var a=6,s=0;--a>=0;)s+=e[a],e[a]=c(s/t),s=s%t*1e7},d=function(e){for(var t=6,a="";--t>=0;)if(""!==a||0===t||0!==e[t]){var s=String(e[t]);a=""===a?s:a+n.call("0",7-s.length)+s}return a};s({target:"Number",proto:!0,forced:o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!l((function(){o.call({})}))},{toFixed:function(e){var t,a,s,l,o=i(this),c=r(e),v=[0,0,0,0,0,0],m="",h="0";if(c<0||c>20)throw RangeError("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return String(o);if(o<0&&(m="-",o=-o),o>1e-21)if(a=(t=function(e){for(var t=0,a=e;a>=4096;)t+=12,a/=4096;for(;a>=2;)t+=1,a/=2;return t}(o*p(2,69,1))-69)<0?o*p(2,-t,1):o/p(2,t,1),a*=4503599627370496,(t=52-t)>0){for(u(v,0,a),s=c;s>=7;)u(v,1e7,0),s-=7;for(u(v,p(10,s,1),0),s=t-1;s>=23;)f(v,1<<23),s-=23;f(v,1<<s),u(v,1,1),f(v,2),h=d(v)}else u(v,0,a),u(v,1<<-t,0),h=d(v)+n.call("0",c);return h=c>0?m+((l=h.length)<=c?"0."+n.call("0",c-l)+h:h.slice(0,l-c)+"."+h.slice(l-c)):m+h}})},487:function(e,t,a){var s=a(40);e.exports=function(e){if("number"!=typeof e&&"Number"!=s(e))throw TypeError("Incorrect invocation");return+e}},501:function(e,t,a){},517:function(e,t,a){"use strict";a(501)},605:function(e,t,a){"use strict";a.r(t);var s=a(39),r=a(76),i=(a(141),a(15),a(486),a(138)),n={name:"Radiant",props:{playUrl:{type:String,required:!0}},data:function(){return{isPlayingMp4:!1,player:null,showWarn:!1,statis:{offload:"0",upload:"0",ratio:"0",peers:"0",buffers:0,peerID:""},p2pVersion:""}},watch:{playUrl:{handler:function(e,t){var a=this;return Object(r.a)(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(a.playUrl=e,!e||e===t){s.next=14;break}if(a.statis={offload:"0",ratio:"0",upload:"0",peers:"0",buffers:0,peerID:""},/m3u8(#|\?|$)/i.exec(e)?a.showWarn=!P2pEngineHls.isSupported():/.mpd(#|\?|$)/i.exec(e)?a.showWarn=!(Object(i.d)()&&P2PEngineDash.isSupported()):/.mp4(#|\?|$)/i.exec(e)&&(a.showWarn=!P2pEngineMedia.isSupported()),!a.player){s.next=13;break}if(!/.mp4(#|\?|$)/i.exec(e)){s.next=8;break}s.next=11;break;case 8:return s.next=10,P2PEngineHls.tryRegisterServiceWorker(a.p2pConfig);case 10:a.player.setSrc({hls:e});case 11:s.next=14;break;case 13:a.initPlayer();case 14:case"end":return s.stop()}}),s)})))()},immediate:!0,deep:!0},isLive:{type:Boolean,required:!1}},mounted:function(){var e=this;if(this.p2pConfig={live:this.isLive,logLevel:!0,proxyOnly:!!this.$route.query.ios,swFile:"../sw.js",wsSignalerAddr:{main:"wss://signal.cdnbye.com",backup:"wss://signal.swarmcloud.net"},trickleICE:!0,getStats:function(t,a,s){var r=s+t;e.statis.ratio=Math.round(t/r*100),e.statis.offload=(t/1024).toFixed(1),e.statis.upload=(a/1024).toFixed(1)},getPeerId:function(t){e.statis.peerID=t},getPeersInfo:function(t){e.statis.peers=t.length}},!P2pEngineHls.isMSESupported())new P2pEngineHls.ServiceWorkerEngine(Object(s.a)(Object(s.a)({},this.p2pConfig),{},{swFile:"../sw.js"}));!this.player&&this.playUrl&&this.initPlayer()},methods:{initPlayer:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a={},!/m3u8(#|\?|$)/i.exec(e.playUrl)){t.next=7;break}return t.next=4,P2PEngineHls.tryRegisterServiceWorker(e.p2pConfig);case 4:a.hls=e.playUrl,t.next=8;break;case 7:/.mp4(#|\?|$)/i.exec(e.playUrl);case 8:r={licenseKey:"Kl8lMDQ9b2kzeWNlOHoyZHM3YjgrMnNlP3JvbTVkYXNpczMwZGIwQSVfKg==",src:a,autoHeightMode:!0,forceHlsJSOnIpadOS:!0,hlsJSCustomConfig:{maxBufferSize:0,maxBufferLength:15,liveSyncDurationCount:10}},e.player=new RadiantMP("player"),e.player.init(r),e.player.on("hlsinstancecreated",(function(){var t=e.player.getHlsJSInstance();P2PEngineHls.isSupported()&&(e.hlsEngine=new P2pEngineHls(Object(s.a)({hlsjsInstance:t},e.p2pConfig)))}));case 12:case"end":return t.stop()}}),t)})))()}},beforeDestroy:function(){this.hlsEngine&&(this.hlsEngine.destroy(),this.hlsEngine=null),this.player&&(this.player.destroy(),this.player=null)}},l=(a(517),a(1)),o=Object(l.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"player container"},[a("div",{staticClass:"player-container",attrs:{id:"player"}}),e._v(" "),e.$frontmatter.warnText&&this.showWarn?a("h3",{staticStyle:{color:"red"}},[e._v(e._s(e.$frontmatter.warnText))]):e._e(),e._v(" "),this.showWarn?e._e():a("div",{staticClass:"player-statistics"},[a("div",{staticClass:"statis-item"},[a("span",{staticClass:"item-label"},[a("span",{staticClass:"item-label-data"},[e._v(e._s(e.statis.peers))]),a("br"),e._v(" "),a("span",{staticClass:"item-name peers"},[e._v(e._s(e.$frontmatter.peersText))])])]),e._v(" "),a("div",{staticClass:"statis-item"},[a("span",{staticClass:"item-label"},[a("span",{staticClass:"item-label-data"},[e._v(e._s(e.statis.offload))]),e._v(" MB"),a("br"),e._v(" "),a("span",{staticClass:"item-name offload"},[e._v(e._s(e.$frontmatter.offloadText))])])]),e._v(" "),a("div",{staticClass:"statis-item"},[a("span",{staticClass:"item-label"},[a("span",{staticClass:"item-label-data"},[e._v(e._s(e.statis.ratio))]),e._v(" %"),a("br"),e._v(" "),a("span",{staticClass:"item-name ratio"},[e._v(e._s(e.$frontmatter.ratioText))])])]),e._v(" "),a("div",{staticClass:"statis-item"},[a("span",{staticClass:"item-label"},[a("span",{staticClass:"item-label-data"},[e._v(e._s(e.statis.upload))]),e._v(" MB"),a("br"),e._v(" "),a("span",{staticClass:"item-name upload"},[e._v(e._s(e.$frontmatter.uploadText))])])])]),e._v(" "),a("div",{staticClass:"clear"})])}),[],!1,null,null,null);t.default=o.exports}}]);