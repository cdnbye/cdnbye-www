(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{584:function(t,a,s){"use strict";s.r(a);var n=s(1),r=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"基礎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基礎"}},[t._v("#")]),t._v(" 基礎")]),t._v(" "),s("h3",{attrs:{id:"p2p服務停止後會影響視頻的正常播放嗎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#p2p服務停止後會影響視頻的正常播放嗎"}},[t._v("#")]),t._v(" P2P服務停止後會影響視頻的正常播放嗎？")]),t._v(" "),s("p",[t._v("不會。視頻仍會正常播放，只是沒有P2P加速效果。")]),t._v(" "),s("h3",{attrs:{id:"swarmcloud的p2p服務安全嗎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#swarmcloud的p2p服務安全嗎"}},[t._v("#")]),t._v(" SwarmCloud的P2P服務安全嗎？")]),t._v(" "),s("p",[t._v("SwarmCloud采用的WebRTC data channel技術，是基於SCTP協議和DTLS加密的，無需擔心數據傳輸的安全問題。另外，與後臺服務器的通信（包括tracker和信令服務器）是基於安全的HTTPS和WSS。隱私方面，SwarmCloud不會在服務器緩存任何視頻內容相關的信息，視頻地址也做了加密處理。")]),t._v(" "),s("h3",{attrs:{id:"支援加了防盜鏈或者加密的視頻地址嗎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#支援加了防盜鏈或者加密的視頻地址嗎"}},[t._v("#")]),t._v(" 支援加了防盜鏈或者加密的視頻地址嗎")]),t._v(" "),s("p",[t._v("支援的，請提供加密原理以及測試地址給我們的技術支援團隊。")]),t._v(" "),s("h3",{attrs:{id:"集成了swarmcloud後會造成直播延遲嗎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#集成了swarmcloud後會造成直播延遲嗎"}},[t._v("#")]),t._v(" 集成了SwarmCloud後會造成直播延遲嗎？")]),t._v(" "),s("p",[t._v("不會的，由於前幾個切片從CDN拉取，因此不會給起播帶來任何延遲。然而低延遲直播可能會使P2P效果下降，建議 HLS / Dash 的 playlist 遵循以下配置：\n"),s("br"),t._v("\n切片時長: 至少3秒\n"),s("br"),t._v("\nPlaylist包含的切片數: 至少6個")]),t._v(" "),s("h3",{attrs:{id:"使用swarmcloud的p2p服務需要付費嗎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用swarmcloud的p2p服務需要付費嗎"}},[t._v("#")]),t._v(" 使用SwarmCloud的P2P服務需要付費嗎？")]),t._v(" "),s("p",[t._v("目前SwarmCloud已經開始商業化，但同時對小型流媒體網站仍提供免費服務。收費模式如下：")]),t._v(" "),s("ul",[s("li",[t._v("只對在管理面板(https://www.cdnbye.com/oms) 綁定的域名提供P2P服務")]),t._v(" "),s("li",[t._v("每個賬號每日免費贈送5GB P2P流量，次日重置")]),t._v(" "),s("li",[t._v("每日在管理面板完成簽到後再贈送20GB P2P流量，次日清零")]),t._v(" "),s("li",[t._v("超出免費額度後停止P2P服務，如果繼續使用，需要購買流量包，購買的流量包額度越大，價格越劃算，且可以使用更多P2P流量，直到剩余可用流量為零。")])]),t._v(" "),s("h3",{attrs:{id:"如何購買流量包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何購買流量包"}},[t._v("#")]),t._v(" 如何購買流量包？")]),t._v(" "),s("p",[t._v("登入 "),s("em",[s("strong",[t._v("https://www.cdnbye.com/oms")])]),t._v("，點擊左邊側滑欄的 "),s("em",[s("strong",[t._v("購買流量包")])]),t._v(" ，目前支援支付寶和Paypal兩種付款方式，其中支付寶以人民幣付款，Paypal以美元付款。")]),t._v(" "),s("h3",{attrs:{id:"如果綁定了多個域名-appid-購買流量包後怎麽扣費呢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如果綁定了多個域名-appid-購買流量包後怎麽扣費呢"}},[t._v("#")]),t._v(" 如果綁定了多個域名/AppId，購買流量包後怎麽扣費呢？")]),t._v(" "),s("p",[t._v("如果您在同一個賬號同時綁定了多個域名/APP，則開啟P2P的所有域名/APP會共享流量包。您可以在管理面板的 "),s("em",[s("strong",[t._v("P2P配置")])]),t._v(" 關閉某個域名的P2P服務從而節省流量包消耗。")]),t._v(" "),s("h3",{attrs:{id:"購買了包月套餐後每日額度不夠用怎麽辦"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#購買了包月套餐後每日額度不夠用怎麽辦"}},[t._v("#")]),t._v(" 購買了包月套餐後每日額度不夠用怎麽辦？")]),t._v(" "),s("p",[t._v("建議再買個流量包作為補充，系統會先扣除包月套餐流量，扣完再扣除流量包流量。")]),t._v(" "),s("h3",{attrs:{id:"如何查看集成後有沒有效果"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何查看集成後有沒有效果"}},[t._v("#")]),t._v(" 如何查看集成後有沒有效果？")]),t._v(" "),s("ul",[s("li",[t._v("確保已經打開2個以上播放同一個m3u8的客戶端")]),t._v(" "),s("li",[t._v("確保按文檔提供的步驟集成，並且SDK沒有任何報錯信息")]),t._v(" "),s("li",[t._v("打開管理面板切換對應域名即可查看p2p流量")]),t._v(" "),s("li",[t._v("每個平臺的SDK都會提供API來監聽p2p流量等統計信息，請參考對應的文檔說明")])]),t._v(" "),s("h3",{attrs:{id:"對接入p2p服務的網站-app有什麽要求嗎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#對接入p2p服務的網站-app有什麽要求嗎"}},[t._v("#")]),t._v(" 對接入P2P服務的網站/APP有什麽要求嗎？")]),t._v(" "),s("p",[t._v("SwarmCloud不對色情等非法內容提供P2P服務，請確保您的網站/APP符合法律規範。服務於國內的域名必須已備案。")]),t._v(" "),s("h3",{attrs:{id:"swarmcloud會不會造成用戶視頻播放延遲"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#swarmcloud會不會造成用戶視頻播放延遲"}},[t._v("#")]),t._v(" SwarmCloud會不會造成用戶視頻播放延遲？")]),t._v(" "),s("p",[t._v("不會。首先，視頻的首片數據總是從CDN下載的，因而不會造成首屏延遲。其次，如果在超時時間內無法從其他節點獲取數據，那麽內置的調度算法會及時切到CDN下載，因此本P2P技術不會帶來任何額外的延遲。")]),t._v(" "),s("h3",{attrs:{id:"使用過程中出現異常如何反饋"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用過程中出現異常如何反饋"}},[t._v("#")]),t._v(" 使用過程中出現異常如何反饋？")]),t._v(" "),s("p",[t._v("如果是Web端插件的異常請在p2p配置中開啟log並截圖瀏覽器console出錯信息發送到service@cdnbye.com，或者在QQ群裏反饋。如果是原生SDK出現異常請在p2p配置中開啟log並保存日誌文件發送到官方郵箱，建議在APP中集成"),s("a",{attrs:{href:"https://bugly.qq.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("Bugly"),s("OutboundLink")],1),t._v("，有助於收集crash日誌並上傳到雲端。")]),t._v(" "),s("h3",{attrs:{id:"如何在內網使用swarmcloud"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何在內網使用swarmcloud"}},[t._v("#")]),t._v(" 如何在內網使用SwarmCloud？")]),t._v(" "),s("p",[t._v("使用SwarmCloud的p2p服務需要調用兩個雲端服務，一個是Tracker調度服務，另一個是信令服務。")]),t._v(" "),s("h5",{attrs:{id:"信令服務"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#信令服務"}},[t._v("#")]),t._v(" 信令服務")]),t._v(" "),s("p",[t._v("可以直接在內網服務器上部署"),s("a",{attrs:{href:"https://github.com/cdnbye/cbsignal",target:"_blank",rel:"noopener noreferrer"}},[t._v("信令服務"),s("OutboundLink")],1),t._v("，信令不需要與外網通信。")]),t._v(" "),s("h5",{attrs:{id:"tracker服務"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tracker服務"}},[t._v("#")]),t._v(" Tracker服務")]),t._v(" "),s("p",[t._v("Tracker需要通過能與外網通信的服務器進行轉發，操作步驟如下：")]),t._v(" "),s("ul",[s("li",[t._v("在管理面板綁定網站域名")]),t._v(" "),s("li",[t._v("聯系SwarmCloud技術人員對轉發域名進行授權")]),t._v(" "),s("li",[t._v("在服務器配置nginx內網轉發，在conf.d增加tracker.conf，示例如下："),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("server "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    listen "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    listen "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("443")]),t._v(" ssl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    server_name YOUR_TRACKER_DOMAIN"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 配置內網轉發域名")]),t._v("\n    access_log /root/log/access.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    error_log /root/log/error.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ssl on;")]),t._v("\n    ssl_certificate  tracker.pem"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 證書路徑")]),t._v("\n    ssl_certificate_key tracker.key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 證書秘鑰路徑")]),t._v("\n\n    location / "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        proxy_pass https://tracker.cdnbye.com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 轉發到SwarmCloud的tracker服務")]),t._v("\n        proxy_set_header  Host  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$host")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        proxy_set_header  X-Real-IP  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$remote_addr")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        proxy_set_header  X-Forwarded-For "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$remote_addr")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),t._v("同時在nginx.conf添加如下配置："),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("worker_rlimit_nofile "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 配置Nginx worker進程最大打開文件數")]),t._v("\nevents "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    worker_connections "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("102400")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 單個進程允許的客戶端最大連接數")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ul",[s("li",[t._v("執行重新加載 Nginx"),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" nginx -s reload\n")])])])]),t._v(" "),s("li",[t._v("確認公司防火墻對 Nginx 服務器 IP 及端口限製訪問解除")]),t._v(" "),s("li",[t._v("修改前端代碼，替換Tracker域名為轉發域名"),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("p2pConfig"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  announce"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://your_traclker.com/v1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])])])]),t._v(" "),s("h3",{attrs:{id:"swarmcloud的效果如何-如果使用過程效果不如預期-應該怎麽調整"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#swarmcloud的效果如何-如果使用過程效果不如預期-應該怎麽調整"}},[t._v("#")]),t._v(" SwarmCloud的效果如何？如果使用過程效果不如預期，應該怎麽調整？")]),t._v(" "),s("p",[t._v("如果您使用過程中無法達到預期效果，請參照"),s("RouterLink",{attrs:{to:"/cn/views/optimization.html"}},[t._v("P2P優化")]),t._v("對各參數進行調整，或者聯系本平臺獲取技術支援。")],1),t._v(" "),s("h3",{attrs:{id:"swarmcloud的p2p技術會影響drm-數字版權管理-嗎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#swarmcloud的p2p技術會影響drm-數字版權管理-嗎"}},[t._v("#")]),t._v(" SwarmCloud的P2P技術會影響DRM(數字版權管理)嗎?")]),t._v(" "),s("p",[t._v("不會。只有在用戶獲得發布者的服務器授權後才會激活P2P傳輸。而且，流秘鑰是不會在P2P網絡中\n傳輸的。P2P網絡中傳輸的ts文件和用戶從CDN下載的完全一樣。另外，播放的內容不會上傳或者緩存在我們的服務器中。")]),t._v(" "),s("h3",{attrs:{id:"平時在線人數不多有必要用p2p嗎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#平時在線人數不多有必要用p2p嗎"}},[t._v("#")]),t._v(" 平時在線人數不多有必要用P2P嗎？")]),t._v(" "),s("p",[t._v('有。P2P的獨特優勢是帶寬"削峰"，平時在線人數不多的時候效果不明顯，一旦在觀看高峰期帶寬突然大幅增長，隨著在線人數增多P2P分享率指數式上升，可有效降低帶寬峰值，避免由於帶寬不足導致用戶播放卡頓等問題。')]),t._v(" "),s("h2",{attrs:{id:"web-sdk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#web-sdk"}},[t._v("#")]),t._v(" Web SDK")]),t._v(" "),s("h3",{attrs:{id:"web-sdk的原理是什麽"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#web-sdk的原理是什麽"}},[t._v("#")]),t._v(" Web SDK的原理是什麽？")]),t._v(" "),s("p",[t._v("SwarmCloud采用WebRTC data channel技術和BT算法來實現直播和點播的P2P加速。通過內置的調度算法，\n在P2P和CDN之間進行無縫切換，從而在不影響用戶播放體驗的前提下最大化P2P率。hlsjs-p2p-engine\n是SwarmCloud為播放HLS流而開發的hls.js插件。目前，SwarmCloud已經支援大部分的HTML5播放器，包括\nHls.js, JWPlayer, Video.js, Clappr, Flowplayer和TCPlayer等。")]),t._v(" "),s("h3",{attrs:{id:"ios瀏覽器是否不支援p2p"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ios瀏覽器是否不支援p2p"}},[t._v("#")]),t._v(" iOS瀏覽器是否不支援P2P？")]),t._v(" "),s("p",[t._v("由於iOS的瀏覽器內核不支援MSE(Media Source Extension)，因此基於hls.js的SDK不支援iOS瀏覽器。我們已推出基於ServiceWorker的SDK，建議兩個SDK同時使用從而使所有瀏覽器均支援P2P。")]),t._v(" "),s("h3",{attrs:{id:"如果用戶的瀏覽器不支援webrtc-會怎麼樣"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如果用戶的瀏覽器不支援webrtc-會怎麼樣"}},[t._v("#")]),t._v(" 如果用戶的瀏覽器不支援WebRTC，會怎麼樣？")]),t._v(" "),s("p",[t._v("在這種情況下，插件不起任何作用，用戶和往常一樣采用HTTP方式下載。")]),t._v(" "),s("h3",{attrs:{id:"當sdk新版本發佈時-我需要手動更新嗎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#當sdk新版本發佈時-我需要手動更新嗎"}},[t._v("#")]),t._v(" 當SDK新版本發佈時，我需要手動更新嗎？")]),t._v(" "),s("p",[t._v("如果您用了我們提供的CDN來引入SDK，則不需要手動更新。")]),t._v(" "),s("h3",{attrs:{id:"我的播放器是在-iframe-裡面的要怎麼集成"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#我的播放器是在-iframe-裡面的要怎麼集成"}},[t._v("#")]),t._v(" 我的播放器是在 iframe 裡面的要怎麼集成？")]),t._v(" "),s("p",[t._v("在這種情況下，您需要在 iframe 的腳本裡集成SDK，因為 Javascript 無法從 iframe 外部訪問 iframe 裡的內容。")]),t._v(" "),s("h3",{attrs:{id:"目前支援的移動端瀏覽器有哪些"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目前支援的移動端瀏覽器有哪些"}},[t._v("#")]),t._v(" 目前支援的移動端瀏覽器有哪些？")]),t._v(" "),s("ul",[s("li",[t._v("谷歌瀏覽器"),s("br")]),t._v(" "),s("li",[t._v("火狐瀏覽器"),s("br")]),t._v(" "),s("li",[t._v("歐朋瀏覽器"),s("br")]),t._v(" "),s("li",[t._v("微信內置瀏覽器"),s("br")]),t._v(" "),s("li",[t._v("QQ內置瀏覽器"),s("br")]),t._v(" "),s("li",[t._v("獵豹瀏覽器"),s("br")]),t._v(" "),s("li",[t._v("搜狗瀏覽器")]),t._v(" "),s("li",[t._v("百度瀏覽器")]),t._v(" "),s("li",[t._v("360極速瀏覽器"),s("br")]),t._v(" "),s("li",[t._v("2345瀏覽器"),s("br")]),t._v(" "),s("li",[t._v("遨遊5瀏覽器"),s("br")]),t._v(" "),s("li",[t._v("Via瀏覽器")]),t._v(" "),s("li",[t._v("X瀏覽器")]),t._v(" "),s("li",[t._v("先鋒瀏覽器\n"),s("br"),t._v("\n註：以上所列出均是安卓平臺，目前iOS平臺還未支援，不斷完善中...")])]),t._v(" "),s("h3",{attrs:{id:"某些移動端瀏覽器無法正常播放"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#某些移動端瀏覽器無法正常播放"}},[t._v("#")]),t._v(" 某些移動端瀏覽器無法正常播放？")]),t._v(" "),s("p",[t._v("P2P需要瀏覽器同時支援MSE(Media Source Extension)和WebRTC才能使用，可以通過 "),s("em",[s("strong",[t._v("SwarmCloud")])]),t._v(" 提供的API進行檢測，如果不支援則用原生播放器進行播放，示例如下：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Hls"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isSupported")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" Hls"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("WEBRTC_SUPPORT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 采用SwarmCloud播放")]),t._v("\n    \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 采用video標簽播放")]),t._v("\n    \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"web端插件p2p無效問題排查步驟"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#web端插件p2p無效問題排查步驟"}},[t._v("#")]),t._v(" Web端插件P2P無效問題排查步驟")]),t._v(" "),s("ul",[s("li",[t._v("同時打開2個以上處於同一局域網的網頁播放同一個視頻")]),t._v(" "),s("li",[t._v("直播流建議按照"),s("RouterLink",{attrs:{to:"/cn/views/optimization.html"}},[t._v("P2P優化指南")]),t._v("進行配置")],1),t._v(" "),s("li",[t._v("視頻播放後打開網頁調試窗口查看debug信息")]),t._v(" "),s("li",[t._v("如果有紅色的報錯信息一般是代碼邏輯問題，請根據提示修改")]),t._v(" "),s("li",[t._v('如果顯示類似 "CDNBye 0.X.X is deprecated, please update to latest version(0.X.X已停止支援，請更新至最新版本)" 說明版本已過期，請升級至最新版')]),t._v(" "),s("li",[t._v("如果顯示其它信息，請根據提示操作，有以下五種可能：\n"),s("ul",[s("li",[t._v("域名沒有綁定，註意SwarmCloud後臺是根據HTTP請求的Origin字段來獲取域名的（如果使用iFrame該域名可能和網站域名不一致），請在後臺綁定正確的域名")]),t._v(" "),s("li",[t._v("流量已經用完，請登入"),s("a",{attrs:{href:"https://www.cdnbye.com/oms",target:"_blank",rel:"noopener noreferrer"}},[t._v("管理面板"),s("OutboundLink")],1),t._v("並切換到對應域名查看流量使用情況")]),t._v(" "),s("li",[t._v("在管理面板的 "),s("em",[s("strong",[t._v("P2P配置")])]),t._v(" 中關閉了P2P服務，重新開啟即可")]),t._v(" "),s("li",[t._v("在管理面板的 "),s("em",[s("strong",[t._v("P2P配置")])]),t._v(" 中激活比率調小了，重新調至100即可")]),t._v(" "),s("li",[t._v("域名被加入黑名單，登入管理面板點擊 "),s("em",[s("strong",[t._v("網站管理")])]),t._v(" 即可確認")])])]),t._v(" "),s("li",[t._v("如果沒有顯示任何異常，請確保m3u8路徑不會動態變化，否則請"),s("RouterLink",{attrs:{to:"/cn/views/web/API.html#解決動態m3u8路徑問題"}},[t._v("構造一個相同的ChannelId")])],1),t._v(" "),s("li",[t._v("如果以上步驟還不能解決問題，請聯系技術客服")])]),t._v(" "),s("h2",{attrs:{id:"客戶端sdk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#客戶端sdk"}},[t._v("#")]),t._v(" 客戶端SDK")]),t._v(" "),s("h3",{attrs:{id:"安卓sdk可以用於機頂盒嗎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安卓sdk可以用於機頂盒嗎"}},[t._v("#")]),t._v(" 安卓SDK可以用於機頂盒嗎？")]),t._v(" "),s("p",[t._v("當然可以，只要是安卓4.4以上系統的機頂盒都支援。經過實測，exoplayer的兼容性最好，推薦采用。")]),t._v(" "),s("h3",{attrs:{id:"sdk除了-p2p-還有其他附加功能嗎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sdk除了-p2p-還有其他附加功能嗎"}},[t._v("#")]),t._v(" SDK除了 P2P 還有其他附加功能嗎？")]),t._v(" "),s("p",[t._v("有的。SDK還具備智能緩存能力，用於避免文件重復下載問題，從而有效節省帶寬消耗，而且本功能是完全免費的。")]),t._v(" "),s("h3",{attrs:{id:"客戶端sdk-p2p無效問題排查步驟"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#客戶端sdk-p2p無效問題排查步驟"}},[t._v("#")]),t._v(" 客戶端SDK P2P無效問題排查步驟")]),t._v(" "),s("ul",[s("li",[t._v("請先確保在真機上調試")]),t._v(" "),s("li",[t._v("同時打開2個處於同一局域網的設備")]),t._v(" "),s("li",[t._v("直播流建議按照"),s("RouterLink",{attrs:{to:"/cn/views/optimization.html"}},[t._v("P2P優化指南")]),t._v("進行配置")],1),t._v(" "),s("li",[t._v("iOS\n"),s("ul",[s("li",[t._v('在管理面板搜索關鍵字"P2P warning"，根據對應的警告信息進行配置')]),t._v(" "),s("li",[t._v("如果仍然無法排查問題，請先將日誌打印功能打開並保存為文件，示例代碼如下：")])]),t._v(" "),s("Tabs",{attrs:{type:"card"}},[s("Tab",{attrs:{label:"swift"}},[s("div",{staticClass:"language-swift extra-class"},[s("pre",{pre:!0,attrs:{class:"language-swift"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" config "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("SWCP2pConfig")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defaultConfiguration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconfig"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("logLevel "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("SWCLogLevel")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("debug\nconfig"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("logPersistent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("SWCP2pEngine")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sharedInstance")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("token"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("YOUR_TOKEN")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" p2pConfig"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),s("Tab",{attrs:{label:"objective-c"}},[s("div",{staticClass:"language-objectivec extra-class"},[s("pre",{pre:!0,attrs:{class:"language-objectivec"}},[s("code",[t._v("SWCP2pConfig "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("config "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("SWCP2pConfig defaultConfiguration"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconfig"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("logLevel "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" CBLogLevelDebug"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconfig"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("logPersistent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" YES"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("SWCP2pEngine sharedInstance"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" startWithToken"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("YOUR_TOKEN andP2pConfig"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])],1),t._v(" "),s("ul",[s("li",[t._v("在 Library/Caches/Logs 找到日誌文件並發送給SwarmCloud技術人員")])])],1),t._v(" "),s("li",[t._v("安卓\n"),s("ul",[s("li",[t._v('在Logcat搜索關鍵字"P2P warning"，根據對應的警告信息進行配置')]),t._v(" "),s("li",[t._v("如果仍然無法排查問題，請先將日誌級別調整為Debug並保存為文件，示例代碼如下：")])]),t._v(" "),s("Tabs",{attrs:{type:"card"}},[s("Tab",{attrs:{label:"java"}},[s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("P2pConfig")]),t._v(" config "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("P2pConfig"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Builder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("logEnabled")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("logLevel")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LogLevel")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DEBUG"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("logPersistent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("P2pEngine")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" YOUR_TOKEN"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),s("Tab",{attrs:{label:"kotlin"}},[s("div",{staticClass:"language-kotlin extra-class"},[s("pre",{pre:!0,attrs:{class:"language-kotlin"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" config "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" P2pConfig"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Builder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("logEnabled")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("logLevel")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("LogLevel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DEBUG"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("logPersistent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nP2pEngine"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" YOUR_TOKEN"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])],1),t._v(" "),s("ul",[s("li",[t._v('在外部存儲（Environment.getExternalStorageDirectory() -> /Android/data/）中找到logger/logs_0.csv，如果找不到請嘗試查看路徑"/storage/emulated/0"，然後將保存完整日誌的csv文件發送給SwarmCloud技術人員')])])],1)]),t._v(" "),s("h3",{attrs:{id:"解決exoplayer無法播放問題"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解決exoplayer無法播放問題"}},[t._v("#")]),t._v(" 解決Exoplayer無法播放問題")]),t._v(" "),s("p",[t._v("Exoplayer默認"),s("a",{attrs:{href:"https://github.com/google/ExoPlayer/issues/1190",target:"_blank",rel:"noopener noreferrer"}},[t._v("不支援跨協議重定向"),s("OutboundLink")],1),t._v("，因此需要在初始化時設置 "),s("em",[s("strong",[t._v("allowCrossProtocolRedirects=true")])]),t._v("，如以下示例：")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DataSource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Factory")]),t._v(" dataSourceFactory "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DefaultHttpDataSourceFactory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Util")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUserAgent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"p2p-engine"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DefaultHttpDataSource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DEFAULT_CONNECT_TIMEOUT_MILLIS"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DefaultHttpDataSource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DEFAULT_READ_TIMEOUT_MILLIS"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* allowCrossProtocolRedirects */")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("具體用法可以參考"),s("a",{attrs:{href:"https://github.com/cdnbye/android-p2p-engine",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方demo"),s("OutboundLink")],1),t._v("。")]),t._v(" "),s("h3",{attrs:{id:"解決安卓機頂盒oom問題"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解決安卓機頂盒oom問題"}},[t._v("#")]),t._v(" 解決安卓機頂盒OOM問題")]),t._v(" "),s("p",[t._v("配置比較低的機頂盒容易出現OOM，可以通過配置提高堆內存大小，在 "),s("em",[s("strong",[t._v("app/src/main")])]),t._v(" 目錄中的 "),s("em",[s("strong",[t._v("AndroidManifest.xml")])]),t._v(" 的 "),s("code",[t._v("<application>")]),t._v(" 標簽中直接插入：")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("application")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("...")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android:")]),t._v("largeHeap")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),t._v("「true」")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("...")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),s("h3",{attrs:{id:"如何減小apk體積"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何減小apk體積"}},[t._v("#")]),t._v(" 如何減小APK體積")]),t._v(" "),s("p",[t._v("由於依賴了第三方庫WebRTC，使APK體積增大了不少。如果對APK體積比較敏感，可以通過以下2種方案壓縮體積：")]),t._v(" "),s("ul",[s("li",[s("em",[s("strong",[t._v("abiFilters")])]),t._v(" "),s("br"),t._v("編譯系統的默認行為是將每個 ABI 的二進製文件包括在單個 APK（也稱為胖 APK）內。與僅包含單個 ABI 的二進製文件的 APK 相比，胖 APK 要大得多；要權衡的是兼容性更廣，但 APK 更大。要限製應用支援的 ABI 集，請使用 "),s("a",{attrs:{href:"https://developer.android.com/ndk/guides/abis",target:"_blank",rel:"noopener noreferrer"}},[t._v("abiFilters"),s("OutboundLink")],1),t._v("。")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("android "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    defaultConfig "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n        ndk "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            abiFilters "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"armeabi-v7a"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"armeabi"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ul",[s("li",[s("em",[s("strong",[t._v("APK 拆分")])]),t._v(" "),s("br"),t._v("谷歌建議"),s("a",{attrs:{href:"https://developer.android.com/studio/build/configure-apk-splits#configure-abi-split",target:"_blank",rel:"noopener noreferrer"}},[t._v("針對不同CPU架構生成對應的APK"),s("OutboundLink")],1),t._v("：")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("android "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  splits "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 根據ABI配置生成多APK")]),t._v("\n    abi "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是否根據不同ABI生成APK")]),t._v("\n      enable "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默認情況下所有ABI都包含了，因此需要調用reset()並且指定我們需要的CPU架構")]),t._v("\n\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 重置Gradle生成APK的ABI列表")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reset")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定CPU架構來生成我們需要的APK")]),t._v("\n      include "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"armeabi-v7a"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"arm64-v8a"')]),t._v("\n\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 設置不再生成一個包含所有ABI的APK")]),t._v("\n      universalApk "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"如何獲取安卓應用簽名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何獲取安卓應用簽名"}},[t._v("#")]),t._v(" 如何獲取安卓應用簽名")]),t._v(" "),s("p",[t._v("可以使用 keytool 來獲取APP的應用簽名")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("keytool -v -list -keystore path/to/my-signing-key.keystore\n")])])]),s("p",[t._v("在輸出的證書指紋中(MD5, SHA1, SHA256)，SHA1對應的字符串即需要的應用簽名。")])])}),[],!1,null,null,null);a.default=r.exports}}]);