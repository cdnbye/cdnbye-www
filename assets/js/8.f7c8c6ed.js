(window.webpackJsonp=window.webpackJsonp||[]).push([[8,9,13],{443:function(t,e,a){},460:function(t,e,a){"use strict";var i=a(0),r=a(48),n=a(461),s=a(234),o=a(2),l=1..toFixed,c=Math.floor,u=function(t,e,a){return 0===e?a:e%2==1?u(t,e-1,a*t):u(t*t,e/2,a)},d=function(t,e,a){for(var i=-1,r=a;++i<6;)r+=e*t[i],t[i]=r%1e7,r=c(r/1e7)},h=function(t,e){for(var a=6,i=0;--a>=0;)i+=t[a],t[a]=c(i/e),i=i%e*1e7},f=function(t){for(var e=6,a="";--e>=0;)if(""!==a||0===e||0!==t[e]){var i=String(t[e]);a=""===a?i:a+s.call("0",7-i.length)+i}return a};i({target:"Number",proto:!0,forced:l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){l.call({})}))},{toFixed:function(t){var e,a,i,o,l=n(this),c=r(t),p=[0,0,0,0,0,0],v="",m="0";if(c<0||c>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(v="-",l=-l),l>1e-21)if(a=(e=function(t){for(var e=0,a=t;a>=4096;)e+=12,a/=4096;for(;a>=2;)e+=1,a/=2;return e}(l*u(2,69,1))-69)<0?l*u(2,-e,1):l/u(2,e,1),a*=4503599627370496,(e=52-e)>0){for(d(p,0,a),i=c;i>=7;)d(p,1e7,0),i-=7;for(d(p,u(10,i,1),0),i=e-1;i>=23;)h(p,1<<23),i-=23;h(p,1<<i),d(p,1,1),h(p,2),m=f(p)}else d(p,0,a),d(p,1<<-e,0),m=f(p)+s.call("0",c);return m=c>0?v+((o=m.length)<=c?"0."+s.call("0",c-o)+m:m.slice(0,o-c)+"."+m.slice(o-c)):v+m}})},461:function(t,e,a){var i=a(38);t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},462:function(t,e,a){"use strict";var i=a(0),r=a(59),n=[].reverse,s=[1,2];i({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n.call(this)}})},463:function(t,e,a){"use strict";a(443)},464:function(t,e,a){},467:function(t,e,a){"use strict";a.r(e);a(135),a(462),a(58);var i=a(77),r=(a(10),a(136),a(134)),n={name:"FlyBox",mixins:[{data:function(){return{dom:"",width:0,height:0,debounceInitWHFun:"",domObserver:""}},methods:{autoResizeMixinInit:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var a,i,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.initWH,i=t.getDebounceInitWHFun,r=t.bindDomResizeCallback,n=t.afterAutoResizeMixinInit,e.next=3,a(!1);case 3:i(),r(),"function"==typeof n&&n();case 6:case"end":return e.stop()}}),e)})))()},initWH:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=this.$nextTick,i=this.$refs,r=this.ref,n=this.onResize;return new Promise((function(s){a((function(a){var o=t.dom=i[r];t.width=o?o.clientWidth:0,t.height=o?o.clientHeight:0,o?t.width&&t.height||console.warn("DataV: Component width or height is 0px, rendering abnormality may occur!"):console.warn("DataV: Failed to get dom node, component rendering may be abnormal!"),"function"==typeof n&&e&&n(),s()}))}))},getDebounceInitWHFun:function(){var t=this.initWH;this.debounceInitWHFun=Object(r.a)(100,t)},bindDomResizeCallback:function(){var t=this.dom,e=this.debounceInitWHFun;this.domObserver=Object(r.i)(t,e),window.addEventListener("resize",e)},unbindDomResizeCallback:function(){var t=this.domObserver,e=this.debounceInitWHFun;t&&(t.disconnect(),t.takeRecords(),t=null,window.removeEventListener("resize",e))}},mounted:function(){(0,this.autoResizeMixinInit)()},beforeDestroy:function(){(0,this.unbindDomResizeCallback)()}}],props:{color:{type:Array,default:function(){return[]}},dur:{type:Number,default:4},backgroundColor:{type:String,default:"transparent"},reverse:{type:Boolean,default:!1}},data:function(){var t=Object(r.k)();return{ref:"border-box-8",path:"border-box-8-path-".concat(t),gradient:"border-box-8-gradient-".concat(t),mask:"border-box-8-mask-".concat(t),defaultColor:["#235fa7","#4fd2dd"],mergedColor:[]}},computed:{length:function(){return 2*(this.width+this.height-5)},pathD:function(){var t=this.reverse,e=this.width,a=this.height;return t?"M 2.5, 2.5 L 2.5, ".concat(a-2.5," L ").concat(e-2.5,", ").concat(a-2.5," L ").concat(e-2.5,", 2.5 L 2.5, 2.5"):"M2.5, 2.5 L".concat(e-2.5,", 2.5 L").concat(e-2.5,", ").concat(a-2.5," L2.5, ").concat(a-2.5," L2.5, 2.5")}},watch:{color:function(){(0,this.mergeColor)()}},methods:{mergeColor:function(){var t=this.color,e=this.defaultColor;this.mergedColor=t||e}},mounted:function(){(0,this.mergeColor)()}},s=(a(463),a(1)),o=Object(s.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:t.ref,staticClass:"dv-border-box-8"},[a("svg",{staticClass:"dv-border-svg-container",attrs:{width:t.width,height:t.height}},[a("defs",[a("path",{attrs:{id:t.path,d:t.pathD,fill:"transparent"}}),t._v(" "),a("radialGradient",{attrs:{id:t.gradient,cx:"50%",cy:"50%",r:"50%"}},[a("stop",{attrs:{offset:"0%","stop-color":"#fff","stop-opacity":"1"}}),t._v(" "),a("stop",{attrs:{offset:"100%","stop-color":"#fff","stop-opacity":"0"}})],1),t._v(" "),a("mask",{attrs:{id:t.mask}},[a("circle",{attrs:{cx:"0",cy:"0",r:"50",fill:"url(#"+t.gradient+")"}},[a("animateMotion",{attrs:{dur:t.dur+"s",path:t.pathD,rotate:"auto",repeatCount:"indefinite"}})],1)])],1),t._v(" "),a("polygon",{attrs:{fill:t.backgroundColor,points:"5, 5 "+(t.width-5)+", 5 "+(t.width-5)+" "+(t.height-5)+" 5, "+(t.height-5)}}),t._v(" "),a("use",{attrs:{stroke:t.mergedColor[0],"stroke-width":"0","xlink:href":"#"+t.path}}),t._v(" "),a("use",{attrs:{stroke:t.mergedColor[1],"stroke-width":"1.5","xlink:href":"#"+t.path,mask:"url(#"+t.mask+")"}},[a("animate",{attrs:{attributeName:"stroke-dasharray",from:"0, "+t.length,to:t.length+", 0",dur:t.dur+"s",repeatCount:"indefinite"}})])]),t._v(" "),a("div",{staticClass:"border-box-content"},[t._t("default")],2)])}),[],!1,null,null,null);e.default=o.exports},471:function(t,e,a){"use strict";a(464)},503:function(t,e,a){},512:function(t,e,a){"use strict";a.r(e);var i=a(46),r=(a(15),a(460),a(134)),n={name:"CBPlayer",components:{FlyBox:a(467).default},props:{playUrl:{type:String,required:!0},isLive:{type:Boolean,required:!1}},data:function(){return{player:null,showWarn:!1,statis:{offload:"0",upload:"0",ratio:"0",peers:"0",buffers:0,peerID:""},p2pVersion:""}},watch:{playUrl:{handler:function(t,e){this.playUrl=t,t&&t!==e&&(this.statis={offload:"0",ratio:"0",upload:"0",peers:"0",buffers:0,peerID:""},this.initPlayer(t,this.isLive),/m3u8(#|\?|$)/i.exec(t)?this.showWarn=!Hls.P2pEngine.isSupported():/.mpd(#|\?|$)/i.exec(t)?this.showWarn=!(Object(r.d)()&&P2PEngineDash.isSupported()):/.mp4(#|\?|$)/i.exec(t)&&(this.showWarn=!P2PEngineMp4.isSupported()))},immediate:!0,deep:!0}},mounted:function(){},methods:{initPlayer:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.player&&this.player.destroy();var r={live:this.isLive,logLevel:!0,wsSignalerAddr:{main:"wss://signal.cdnbye.com",backup:"wss://signal.swarmcloud.net"},waitForPeer:!0,sourceUrl:t,trickleICE:!0,getStats:function(t,a,i){var r=i+t;e.statis.ratio=Math.round(t/r*100),e.statis.offload=(t/1024).toFixed(1),e.statis.upload=(a/1024).toFixed(1)},getPeerId:function(t){e.statis.peerID=t},getPeersInfo:function(t){e.statis.peers=t.length}},n={container:document.getElementById("player"),theme:"#1E90FFFF",autoplay:!0,live:a,hotkey:!0,preload:"none",volume:.7,mutex:!0,screenshot:!0,video:{url:t,pic:"https://www.cdnbye.com/logo.png"},pluginOptions:{hls:{debug:!1,maxBufferLength:a?void 0:10,p2pConfig:Object(i.a)(Object(i.a)({proxyOnly:!!this.$route.query.ios,swFile:"../sw.js"},r),{},{segmentId:function(t,e,a,i){return"".concat(e)}})},shaka:{p2pConfig:r},dash:{p2pConfig:r},mp4:{p2pConfig:r}}};this.player=new CBPlayer(n)}},beforeDestroy:function(){this.player&&(this.player.destroy(),this.player=null)}},s=(a(471),a(1)),o=Object(s.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"player container"},[t._m(0),t._v(" "),a("fly-box",{attrs:{color:["rgb(255,255,255)","rgb(30 ,144, 255)"]}},[t.$frontmatter.warnText&&this.showWarn?a("h3",{staticStyle:{color:"red"}},[t._v(t._s(t.$frontmatter.warnText))]):t._e(),t._v(" "),this.showWarn?t._e():a("div",{staticClass:"player-statistics"},[a("div",{staticClass:"statis-item"},[a("span",{staticClass:"item-label"},[a("span",{staticClass:"item-label-data"},[t._v(t._s(t.statis.peers))]),a("br"),t._v(" "),a("span",{staticClass:"item-name peers"},[t._v(t._s(t.$frontmatter.peersText))])])]),t._v(" "),a("div",{staticClass:"statis-item"},[a("span",{staticClass:"item-label"},[a("span",{staticClass:"item-label-data"},[t._v(t._s(t.statis.offload))]),t._v(" MB"),a("br"),t._v(" "),a("span",{staticClass:"item-name offload"},[t._v(t._s(t.$frontmatter.offloadText))])])]),t._v(" "),a("div",{staticClass:"statis-item"},[a("span",{staticClass:"item-label"},[a("span",{staticClass:"item-label-data"},[t._v(t._s(t.statis.ratio))]),t._v(" %"),a("br"),t._v(" "),a("span",{staticClass:"item-name ratio"},[t._v(t._s(t.$frontmatter.ratioText))])])]),t._v(" "),a("div",{staticClass:"statis-item"},[a("span",{staticClass:"item-label"},[a("span",{staticClass:"item-label-data"},[t._v(t._s(t.statis.upload))]),t._v(" MB"),a("br"),t._v(" "),a("span",{staticClass:"item-name upload"},[t._v(t._s(t.$frontmatter.uploadText))])])])]),t._v(" "),a("div",{staticClass:"clear"})])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"player-container"},[e("div",{attrs:{id:"player"}})])}],!1,null,null,null);e.default=o.exports},549:function(t,e,a){"use strict";a(503)},579:function(t,e,a){"use strict";a.r(e);a(50);var i=a(512),r=a(134),n={hls_vod:{url_cn:"https://video.cdnbye.com/0cf6732evodtransgzp1257070836/ce0efb9b3701925925330591141/v.f100230.m3u8",url:"https://video.cdnbye.com/0cf6732evodtransgzp1257070836/cdd837603701925925330560591/v.f100230.m3u8",live:!1},hls_live:{url:"https://wowza.peer5.com/live/smil:bbb_abr.smil/chunklist_b591000.m3u8",live:!0},dash_vod:{url:"https://dash.akamaized.net/akamai/test/caption_test/ElephantsDream/elephants_dream_480p_heaac5_1.mpd",live:!1},dash_live:{url:"https://d24rwxnt7vw9qb.cloudfront.net/v1/dash/e6d234965645b411ad572802b6c9d5a10799c9c1/All_Reference_Streams/6ba06d17f65b4e1cbd1238eaa05c02c1/index.mpd",live:!0},mp4:{url:"https://storage.googleapis.com/cdn.peer5.com/videos/bbb_720p.mp4",live:!1}},s={name:"Demo",data:function(){return{activeTab:"hls_vod",currentTab:"",playUrl:"",isLive:!1}},components:{"P2P-Player":i.default},mounted:function(){this.currentTab=this.$route.query.mode||"hls_vod",this.activeTab=this.currentTab,this.playUrl="cn"===Object(r.h)()&&n[this.activeTab].url_cn?n[this.activeTab].url_cn:n[this.activeTab].url,this.isLive=n[this.activeTab].live},methods:{handleTabClick:function(t){if(t.name!==this.currentTab){this.currentTab=t.name,this.playUrl="cn"===Object(r.h)()&&n[t.name].url_cn?n[t.name].url_cn:n[t.name].url,this.isLive=n[t.name].live;var e=this.$route.query.ios||void 0;this.$router.push({query:{mode:t.name,ios:e}})}}}},o=(a(549),a(1)),l=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Tabs",{attrs:{type:"card"},on:{"tab-click":t.handleTabClick},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("Tab",{attrs:{label:"HLS-VOD",name:"hls_vod"}}),t._v(" "),a("Tab",{attrs:{label:"HLS-LIVE",name:"hls_live"}}),t._v(" "),a("Tab",{attrs:{label:"MPEG-DASH",name:"dash_vod"}}),t._v(" "),a("Tab",{attrs:{label:"MP4",name:"mp4"}})],1),t._v(" "),a("P2P-Player",{attrs:{playUrl:t.playUrl,isLive:t.isLive}})],1)}),[],!1,null,null,null);e.default=l.exports}}]);